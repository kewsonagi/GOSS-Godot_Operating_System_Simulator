[gd_scene load_steps=10 format=3 uid="uid://c61o35vgxr87y"]

[ext_resource type="Theme" uid="uid://xjn6s723t6oi" path="res://addons/proton_control_animation/examples/theme/pca_theme.tres" id="1_3pka8"]
[ext_resource type="Script" uid="uid://wxkjdt0qwf48" path="res://addons/proton_control_animation/examples/scripts/auto_center_pivots.gd" id="2_6sdpr"]
[ext_resource type="Script" uid="uid://b4hvmk8t0qkgu" path="res://addons/proton_control_animation/src/proton_control_animation.gd" id="3_iaavb"]
[ext_resource type="Script" uid="uid://bi4omyv2xson" path="res://addons/proton_control_animation/src/animations/scale.gd" id="4_3l0qa"]
[ext_resource type="Texture2D" uid="uid://dc42tvb8iytlu" path="res://addons/proton_control_animation/examples/theme/assets/panel-000.png" id="5_6sdpr"]
[ext_resource type="Script" uid="uid://bsufjcw4lsn2a" path="res://addons/proton_control_animation/src/animations/slide.gd" id="6_iaavb"]

[sub_resource type="Resource" id="Resource_irfdr"]
script = ExtResource("4_3l0qa")
to = 2
to_absolute_scale = Vector2(1.4, 1.4)
easing = 1
metadata/_custom_type_script = "uid://bi4omyv2xson"

[sub_resource type="Resource" id="Resource_k4ckn"]
script = ExtResource("4_3l0qa")
to = 2
to_absolute_scale = Vector2(0.8, 0.8)
easing = 1
metadata/_custom_type_script = "uid://bi4omyv2xson"

[sub_resource type="Resource" id="Resource_3l0qa"]
script = ExtResource("6_iaavb")
to = 3
to_local_offset = Vector2(25, 0)
easing = 1
default_duration = 0.07000000000698492
metadata/_custom_type_script = "uid://bsufjcw4lsn2a"

[node name="Triggers" type="MarginContainer" node_paths=PackedStringArray("parent")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_3pka8")
script = ExtResource("2_6sdpr")
parent = NodePath("HBoxContainer")

[node name="HBoxContainer" type="HBoxContainer" parent="."]
custom_minimum_size = Vector2(600, 0)
layout_mode = 2
theme_override_constants/separation = 24
alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
alignment = 1

[node name="RichTextLabel" type="RichTextLabel" parent="HBoxContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
bbcode_enabled = true
text = "The [b]Triggers[/b] category lets you define when an animation is played.

These properties are simply shortcuts to the most common signals.
 The control below is setup to play an animation on hover, and play a different one when you stop hovering."
fit_content = true
vertical_alignment = 1

[node name="PanelContainer" type="PanelContainer" parent="HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(150, 120)
layout_mode = 2
size_flags_vertical = 4

[node name="Label" type="Label" parent="HBoxContainer/VBoxContainer/PanelContainer"]
layout_mode = 2
text = "Hover me"
horizontal_alignment = 1

[node name="ScaleUp" type="Node" parent="HBoxContainer/VBoxContainer/PanelContainer" node_paths=PackedStringArray("target", "trigger_source")]
script = ExtResource("3_iaavb")
target = NodePath("..")
animation = SubResource("Resource_irfdr")
duration = 0.3
trigger_source = NodePath("..")
on_hover_start = true
metadata/_custom_type_script = "uid://b4hvmk8t0qkgu"

[node name="ScaleDown" type="Node" parent="HBoxContainer/VBoxContainer/PanelContainer" node_paths=PackedStringArray("target", "trigger_source")]
script = ExtResource("3_iaavb")
target = NodePath("..")
animation = SubResource("Resource_k4ckn")
duration = 0.3
trigger_source = NodePath("..")
on_hover_stop = true
metadata/_custom_type_script = "uid://b4hvmk8t0qkgu"

[node name="VSeparator" type="VSeparator" parent="HBoxContainer"]
layout_mode = 2

[node name="VBoxContainer2" type="VBoxContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 24
alignment = 1

[node name="RichTextLabel" type="RichTextLabel" parent="HBoxContainer/VBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
bbcode_enabled = true
text = "You're not limited to that list. [b]Any[/b] signal from any node can be used to start an animation.

Select the [b]LineEdit[/b] below and open the [b]Signals[/b] panel.
Notice the `text_changed` signal is connected to the `start()` function on the Animation node.

(Same thing as setting the [b]Custom Signal[/b] property)

Whenever this signal is emitted, the animation will play."
fit_content = true
vertical_alignment = 1

[node name="LineEdit" type="LineEdit" parent="HBoxContainer/VBoxContainer2"]
layout_mode = 2
placeholder_text = "Type in here!"

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/VBoxContainer2"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
size_flags_horizontal = 4
texture = ExtResource("5_6sdpr")
expand_mode = 1
stretch_mode = 4

[node name="ShakeAnimation" type="Node" parent="HBoxContainer/VBoxContainer2/TextureRect" node_paths=PackedStringArray("target", "trigger_source")]
script = ExtResource("3_iaavb")
target = NodePath("..")
animation = SubResource("Resource_3l0qa")
loop_type = 2
loop_count = 2
accumulate_start_events = true
trigger_source = NodePath("..")
metadata/_custom_type_script = "uid://b4hvmk8t0qkgu"

[node name="RichTextLabel2" type="RichTextLabel" parent="HBoxContainer/VBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
bbcode_enabled = true
text = "[b]Note[/b]: Normally, if you call start() while the animation is already playing, nothing happens.

But if [b]accumulate_start_events[/b] is enabled, the animation will play again if it receives an event during the playback."
fit_content = true
vertical_alignment = 1

[connection signal="text_changed" from="HBoxContainer/VBoxContainer2/LineEdit" to="HBoxContainer/VBoxContainer2/TextureRect/ShakeAnimation" method="start" unbinds=1]
